(this["webpackJsonprich-quill"]=this["webpackJsonprich-quill"]||[]).push([[0],{10:function(e,t,n){e.exports=n(23)},15:function(e,t,n){},16:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var l=n(0),a=n.n(l),i=n(5),o=n.n(i),r=(n(15),n(16),[{label:"BOLD",className:"ql-bold toolbar-btn",icon:"fas fa-bold"},{label:"ITALIC",className:"ql-italic toolbar-btn",icon:"fas fa-italic"},{label:"STRIKE",className:"ql-strike toolbar-btn",icon:"fas fa-strikethrough"},{label:"code",className:"ql-code toolbar-btn",icon:"fas fa-code"},{label:"CODE-BLOCK",className:"ql-code-block toolbar-btn",icon:"far fa-file-code"}]),c=a.a.forwardRef((function(e,t){return a.a.createElement("div",{ref:t},r.map((function(e,t){var n=e.label,l=e.className,i=e.icon;return a.a.createElement("button",{key:t,className:"".concat(l)},i?a.a.createElement("i",{className:i}):n)})))})),u=n(1),s=n.n(u),d=n(6),h=n(9),f=n(2),m=n(7),g=n(8),b=function(){function e(t){var n=this;Object(m.a)(this,e),this.matches=[{name:"code",pattern:/(?:`){1}([^`]+)(?:`){1}/g,action:function(e,t,l,a){var i=l.exec(e),o=i[0],r=i[1],c=a+i.index,u={index:c+1,length:r.length},s=n.quill.getFormat(u);n.quill.deleteText(c,o.length,"silent"),n.quill.insertText(c,r,Object(f.a)({},s,{code:!0}),"silent"),n.quill.format("code",!1)}},{name:"code-block",pattern:/`{3}(.*)(`{3})?/g,skipPaste:!0,action:function(e,t,l,a){var i=e.indexOf("```"),o=n.quill.getFormat(i);if(i>0){if("code-block"in o)return;n.quill.deleteText(i,3);var r=n.quill.getSelection();n.quill.insertText(r.index,"\n"),setTimeout((function(){n.quill.setSelection({index:r.index+1,length:r.length});var e=n.quill.getSelection();n.quill.formatLine(e.index,n.quill.getText(e.index).length,"code-block",!0)}),0)}else{if("code-block"in o)return;n.quill.formatLine(0,n.quill.getText().length,"code-block",!0),n.quill.deleteText(0,3)}}},{name:"bold",pattern:/(?:\*){2}([^*]+)(?:\*){2}/g,action:function(e,t,l,a){var i=l.exec(e),o=i[0],r=i[1],c=a+i.index,u={index:c+2,length:r.length},s=n.quill.getFormat(u);e.match(/^([*_ \n]+)$/g)||(n.quill.deleteText(c,o.length),n.quill.insertText(c,r,Object(f.a)({},s,{bold:!0})),n.quill.format("bold",!1))}},{name:"italic",pattern:/\b(?:_){1}([^_]+)(?:_){1}/g,action:function(e,t,l,a){var i=l.exec(e),o=i[0],r=i[1],c=a+i.index,u={index:c+1,length:r.length},s=n.quill.getFormat(u);e.match(/^([*_ \n]+)$/g)||(n.quill.deleteText(c,o.length),n.quill.insertText(c,r,Object(f.a)({},s,{italic:!0})),n.quill.format("italic",!1))}},{name:"strikethrough",pattern:/(?:~){2}([^~]+)(?:~){2}/g,action:function(e,t,l,a){var i=l.exec(e),o=i[0],r=i[1],c=a+i.index,u={index:c+2,length:r.length},s=n.quill.getFormat(u);e.match(/^([*_ \n]+)$/g)||setTimeout((function(){n.quill.deleteText(c,o.length),n.quill.insertText(c,r,Object(f.a)({},s,{strike:!0})),n.quill.format("strike",!1)}),0)}}],this.handleChange=this.handleChange.bind(this),this.quill=t,this.quill.on("text-change",this.onChange(this))}return Object(g.a)(e,[{key:"handleChange",value:function(e){this.changeHandler.call(this,e)}},{key:"changeHandler",value:function(e){var t=this;setTimeout((function(){var n=t.quill.getSelection();if(n){var l=t.quill.getLine(n.index),a=Object(h.a)(l,2),i=a[0],o=a[1],r=i.domNode.textContent+" ",c=n.index-o;if(n.length=n.index++,t.isValid(r)){var u,s=Object(d.a)(t.matches);try{for(s.s();!(u=s.n()).done;){var f=u.value;if(r.match(f.pattern))return void(e&&f.skipPaste||f.action(r,n,f.pattern,c))}}catch(m){s.e(m)}finally{s.f()}}}}),0)}},{key:"isValid",value:function(e,t){return"undefined"!==typeof e&&e}},{key:"onChange",value:function(e){return function(t,n,l){if("api"!==l)for(var a=0;a<t.ops.length;a++)if(t.ops[a].hasOwnProperty("insert")){var i=new RegExp(/\*|~|_|`/g),o=t.ops[a].insert.length>1;if(o)return;i.test(t.ops[a].insert)&&e.handleChange(o)}}}}]),e}();n(22);var x=function e(t){var n=Object(l.useRef)();return s.a.import("formats/code").className="markdown-code",s.a.import("formats/code-block").className="markdown-pre",s.a.register("modules/qwilShortcuts",b),a.a.useEffect((function(){e.quill=new s.a(n.current,{modules:{toolbar:{container:t.toolbar.current},keyboard:{bindings:{shiftEnter:{key:13,shiftKey:!0,handler:function(t){return e.quill.insertEmbed(t.index,"smartbreak",!0,"user"),e.quill.setSelection(t.index+1,"silent"),!0}},backspace:{key:"backspace",collapsed:!0,format:["custom-pre","code","code-block"],handler:function(t,n){if(!n.prefix){var l=e.quill.getFormat(t.index);if(l.code&&e.quill.formatText(t.index-1,2,{code:!1}),l["code-block"]){var a=t.index>0?t.index-1:t.index;e.quill.removeFormat(a,t.length,{"code-block":!1})}}return!0}}}},qwilShortcuts:{}},placeholder:"Type your message here"}),e.quill.on("text-change",(function(){t.maxLength&&e.quill.getText().length>t.maxLength&&e.quill.deleteText(t.maxLength-1,e.quill.getText().length)}))})),a.a.createElement("div",{ref:n})};var q=function(){var e=Object(l.useRef)();return a.a.createElement("div",{className:"App"},a.a.createElement("div",null,a.a.createElement(x,{toolbar:e}),a.a.createElement(c,{ref:e})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.bc39c9ae.chunk.js.map